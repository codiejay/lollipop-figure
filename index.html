<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no" />
  <title>Android 5.0 Lollipop Figure with Pure CSS</title>
  <link rel="stylesheet" href="styles/style.css" />
</head>
<body>
  <section class="demo">
    <header class="header">
      <h1 class="title">Android 5.0 Lollipop Figure</h1>
      <p class="text">Click the Lollipop to see the magic!</p>
    </header>

    <div class="figure" data-lollipop="false">
      <div id="sweet">
        <div class="circle"></div>
        <div class="text"><span>lollipop</span></div>
      </div>
      <div class="stick"></div>
    </div>
  </section>

  <script type="text/javascript" charset="utf-8">
    document.addEventListener('DOMContentLoaded', function() {
      var classes = ["purple", "brown", "yellow", "pink", "orange", "lightgreen"];

      var randomClass = function() {
        return classes[Math.floor(Math.random() * classes.length)];
      };

      var figure = document.querySelector('.figure');
      var Lollipop = document.querySelector('#sweet');

      Lollipop.classList.add(randomClass());

      Lollipop.addEventListener('click', function() {
        if (this.parentElement.getAttribute('data-lollipop').indexOf('false') !== -1) {
          figure.setAttribute('data-lollipop', 'true');
        } else {
          for (var i = 0; i < classes.length; i++) {
            if (this.classList !== '') this.classList = '';
            this.classList.add(randomClass());
          }
        }
      }, false);

    }, false);
  </script>
</body>
</html>
